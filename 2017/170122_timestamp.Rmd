---
title: "Rmdファイルで日報を書くためのタイムスタンプアドインを書いた" 
author: "Shinya Uryu"
date: "2017年1月22日"
output: 
  md_document:
    variant: markdown_github
---

```{r [SETTING], include = FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = FALSE, 
                      message = FALSE, error = FALSE, warning = FALSE,
                      fig.align = "center",
                      tidy = TRUE,
                      tidy.opts = list(blank = FALSE, width.cutoff = 40))
```

```{r, eval = TRUE, include = FALSE}
library(magrittr)
library(remoji)
library(pumpkin.seeds)
```

作ったというほど大したものではないが、RStudioアドインの普及のために書いておく。

現状。

へーしゃのエンジニアチームでは毎日やったことやぎょーむ進捗を「日報」としてSlackにあげることになっている。そこで自分は1日の終わりに今日1日の作業を思い出すのは辛いし時間の無駄でもあるので、メインで使用しているRStudioのタブの一つを日報ファイルとして使っている（ぎょーむ中の90%以上はRStudioを開いているんじゃないだろうか）。このタブの一つにRMarkdownファイルを開いといて（毎日新しいファイルを作るのも手間、乱雑になるので週ごとに分けてる）終業時にKnitして吐かれたmarkdownをSlackにあげてシュッと帰る。

このファイルには作業内容はもちろん、雑な思いつきや試行錯誤の記録を残すようにしている（**これらはSlackにはあげないんだけど...チラシの裏感がすごくて知見として共有する日報には相応しくなさそう、という理由から自粛してる**）。その時に割と大事というか意識しているのが時間の記録で、この日の午前中にやったこととかどれくらい時間がかかったとか記録するようにしている。

Rではタイムスタンプを挿入する方法として`timestamp()`関数があるけど、コンソールに時間を出力するだけでファイルには記録できなくてダメだった（コピペすれば良いんだけどそれなら手打ちで時間を入力した方が良さげ）。

```{r}
# 標準関数のタイムスタンプ
timestamp()
```

絵文字おじさんなので**`{remoji}`**パッケージと組み合わせて現在の時間を示す時計の絵文字が出力されるようになっている。使ってみるとこんな感じになる。



アドインにもキーボードショートカットを割り振れるので、ささっとタイムスタンプが押せて良い。自分と同じようにRMarkdownで日報や日記を書いている人がいたらオススメしたい。

ついでに、完了したぜ！みたいなギョームにはチェックマークをつけておくとやっている感が自分・他人にも伝わりやすいのでつけているのだけど、**`{remoji}`**のエイリアス忘れがちなのでこれも関数化している。

```{r}

```

さらについでに日報のフォーマットが決まっているなら、テンプレート化しておくとRMarkdownの新規作成から生成できて良さげ。**`{slackr}`**と組み合わせれば投稿まで関数化できると思うのだけど、そこまではやっていない（上記の通り、チラシの裏コメントの検閲が入るため）。

Enjoy!
